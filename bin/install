#!/usr/bin/env sh
set -eu

function command_exists() {
  type "$1" &> /dev/null ;
}

XDG_CONFIG_HOME="${HOME}/.config"
GHQ_ROOT="${HOME}/ghq"
REPO_ROOT="${GHQ_ROOT}/github.com/diohabara/mac-dotfiles"
DOTFILES_HOME="${REPO_ROOT}/dotfiles"

: "install brew" && {
  if ! command_exists brew; then
    echo "Install brew..."
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
  else
    echo "brew is already installed"
  fi
}

: "lnstall packages by brew" && {
echo "Install packages by brew..."
  brew bundle --file "${REPO_ROOT}/.Brewfile"
}

echo "Complete instalation.!"
